<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Art of the Earth - Backoffice</title>
    <link rel="stylesheet" href="/assets/styles.css">
    <style>
        /* Inline fallback CSS */
        body { font-family: Arial, sans-serif; margin: 0; display: flex; flex-direction: column; }
        .top-bar { background: #f4f4f4; padding: 10px; display: flex; align-items: center; flex-wrap: wrap; }
        .dropdown { position: relative; display: inline-block; margin-right: 20px; }
        .dropdown-btn { padding: 10px; background: #4CAF50; color: white; border: none; cursor: pointer; }
        .dropdown-content { display: none; position: absolute; background: #fff; min-width: 160px; box-shadow: 0 8px 16px rgba(0,0,0,0.2); z-index: 1; }
        .dropdown-content a { padding: 10px; color: #333; text-decoration: none; display: block; }
        .dropdown:hover .dropdown-content { display: block; }
        .top-bar a { padding: 10px; color: #333; text-decoration: none; margin-right: 20px; }
        .top-bar a:hover { background: #ddd; }
        .container { display: flex; flex: 1; }
        header { width: 200px; background: #4CAF50; color: white; padding: 20px; height: 100vh; box-sizing: border-box; }
        .app-title { font-size: 24px; margin: 0 0 20px 0; }
        .profile-menu { position: relative; }
        .dropdown-menu { display: none; position: absolute; left: 100%; top: 0; background: #fff; box-shadow: 0 8px 16px rgba(0,0,0,0.2); min-width: 120px; }
        .profile-menu:hover .dropdown-menu { display: block; }
        .dropdown-menu a { padding: 10px; color: #333; text-decoration: none; display: block; }
        .dropdown-menu a:hover { background: #f1f1f1; }
        main { flex-grow: 1; padding: 20px; }
        .header-container { display: flex; justify-content: space-between; margin-bottom: 20px; }
        .search-bar { padding: 8px; width: 50%; }
        .add-button { padding: 8px 16px; background: #4CAF50; color: white; border: none; cursor: pointer; }
        .stats { margin-bottom: 20px; }
        .recent-activity ul { list-style: none; padding: 0; }
        .recent-activity li { padding: 5px 0; }
    </style>
</head>
<body>
    <!-- Top Bar (formerly Sidebar) -->
    <nav class="top-bar">
        <div class="dropdown">
            <button class="dropdown-btn">Backoffice â–¼</button>
            <div class="dropdown-content">
                <a href="#" data-module="CRM">CRM</a>
                <a href="#" data-module="Scheduling">Scheduling</a>
                <a href="#" data-module="Estimating">Estimating</a>
                <a href="#" data-module="Billing">Billing</a>
            </div>
        </div>
        <a href="/accounts/accounts.html">Accounts</a>
        <a href="/contacts.html">Contacts</a>
        <a href="/opportunities.html">Opportunities</a>
        <a href="/job_folders.html">Job Folders</a>
    </nav>

    <!-- Container for Header and Main -->
    <div class="container">
        <!-- Header (now on left) -->
        <header>
            <h1 class="app-title">Art of the Earth</h1>
            <div class="profile-menu">
                <button id="profileBtn">Profile</button>
                <div id="profileDropdown" class="dropdown-menu">
                    <a href="#">Edit Profile</a>
                    <a href="#">Logout</a>
                </div>
            </div>
        </header>

        <!-- Main Content -->
        <main>
            <section class="header-container">
                <input type="text" class="search-bar" placeholder="Search Everything...">
                <button class="add-button">Add New</button>
            </section>

            <section class="stats">
                <h2>Quick Stats</h2>
                <p>Total Accounts: 25</p>
                <p>Open Opportunities: 8</p>
                <p>New Leads Today: 3</p>
                <p>Jobs Scheduled Today: 12</p>
            </section>

            <section class="recent-activity">
                <h2>Recent Activity</h2>
                <ul>
                    <li>Added Account: Green Landscaping - 2025-03-11</li>
                    <li>Closed Opportunity: Blue Construction - $5,000 - 2025-03-10</li>
                    <li>Scheduled Job: 123 Maple St - 2025-03-12</li>
                    <li>Added Lead: John Doe - 2025-03-09</li>
                </ul>
            </section>
        </main>
    </div>

    <!-- Scripts -->
    <script src="/assets/script.js"></script>
    <script>
        // Inline fallback for module switching preview
        document.addEventListener('DOMContentLoaded', () => {
            document.querySelectorAll('.dropdown-content a').forEach(link => {
                link.addEventListener('click', (e) => {
                    e.preventDefault();
                    const module = e.target.dataset.module;
                    alert(`Switching to ${module} module (placeholder)`);
                });
            });
        });
    </script>
</body>
</html>
