<!-- index.html - Main entry point -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Art of the Earth</title>
    <link rel="stylesheet" href="assets/styles.css">
</head>
<body>
    <!-- Load Header & Sidebar -->
    <div id="header"></div>
    <div id="sidebar"></div>
    
    <!-- Main Content Area -->
    <div id="content" class="main-panel"></div>
    
    <script src="assets/script.js"></script>
</body>
</html>

<!-- header.html - Top Navigation -->
<div class="top-nav">
    <div class="app-menu" onclick="toggleAppDropdown(event)">
        <span class="hamburger">☰</span>
        <span id="app-title">Art of the Earth - CRM</span>
    </div>
    <div class="top-right">
        <div class="profile" onclick="toggleProfileDropdown()">⚙ Settings ▾</div>
        <div id="profile-dropdown" class="dropdown-content">
            <a href="profile.html">Edit Profile</a>
            <a href="#" onclick="logout()">Logout</a>
        </div>
    </div>
</div>

<!-- sidebar.html - Sidebar Navigation -->
<div class="sidebar">
    <h3>CRM Navigation</h3>
    <a onclick="loadPage('accounts.html')">Accounts</a>
    <a onclick="loadPage('opportunities.html')">Opportunities</a>
    <a onclick="loadPage('contacts.html')">Contacts</a>
    <a onclick="loadPage('job_folders.html')">Job Folders</a>
</div>

<!-- script.js - JavaScript Logic -->
<script>
    document.addEventListener("DOMContentLoaded", function() {
        loadComponent('header', 'assets/header.html');
        loadComponent('sidebar', 'assets/sidebar.html');
        loadPage('accounts.html'); // Default Page
    });
    
    function loadComponent(id, url) {
        fetch(url).then(response => response.text()).then(html => {
            document.getElementById(id).innerHTML = html;
        });
    }
    
    function loadPage(page) {
        fetch(page).then(response => response.text()).then(html => {
            document.getElementById('content').innerHTML = html;
        });
    }
    
    function toggleAppDropdown(event) {
        event.stopPropagation();
        let dropdown = document.getElementById('app-dropdown');
        dropdown.style.display = dropdown.style.display === 'block' ? 'none' : 'block';
    }
    
    function toggleProfileDropdown() {
        let dropdown = document.getElementById('profile-dropdown');
        dropdown.style.display = dropdown.style.display === 'block' ? 'none' : 'block';
    }
    
    function logout() {
        alert("Logging out...");
    }
</script>

<!-- accounts.html - Accounts Page -->
<div class="header-container">
    <input type="text" class="search-bar" id="searchInput" placeholder="Search accounts...">
    <button class="add-button" onclick="openModal()">+ Add New</button>
</div>
<div class="table-container">
    <table>
        <thead><tr><th>Name</th><th>Type</th><th>Owner</th></tr></thead>
        <tbody id="tableBody"></tbody>
    </table>
</div>

<script>
    let accounts = [
        { name: "Green Landscaping", type: "Commercial", owner: "John Doe" },
        { name: "Sunset Gardens", type: "Residential", owner: "Alice Smith" }
    ];
    
    function loadAccounts() {
        let tableBody = document.getElementById("tableBody");
        tableBody.innerHTML = accounts.map(acc => 
            `<tr><td>${acc.name}</td><td>${acc.type}</td><td>${acc.owner}</td></tr>`
        ).join("");
    }
    loadAccounts();
</script>
